/*
name: nks-file-manager
version: 1.0.0
author: Konstantin Nizhinskiy <konstantin.nizhinskiy@gmail.com>
date: 2016-11-22 14:11:15 

*/
define(["tinyMCE","FileManager"],function(a,b,c){a.PluginManager.add("nksFileManager",function(a,c){a.addButton("nksFileManager",{icon:" icon-picture",onclick:function(){require(["translations/fmTrans"],function(c){a.windowManager.open({title:"FileManager",width:500,height:150,body:[{type:"container",classes:"fm-tinymce-source",items:[{type:"label",name:"source",text:c.get("source"),classes:"fm-tinymce-name"},{classes:"fm-tinymce-input",type:"textbox",name:"source",value:""},{type:"button",classes:"fm-tinymce-button",icon:" icon-folder-open",onclick:function(){var a=$(".mce-fm-tinymce-dimensions"),c=$(".mce-fm-tinymce-source");b.openFileManager(),b.once("selectFile",function(b){c.find(".mce-fm-tinymce-input").val(b.link),a.find(".mce-fm-tinymce-width").val(b.width),a.find(".mce-fm-tinymce-height").val(b.height)})}}]},{type:"container",classes:"fm-tinymce-dimensions",items:[{type:"label",name:"dimensions",text:c.get("dimensions"),classes:"fm-tinymce-name"},{classes:"fm-tinymce-width",type:"textbox",name:"width"},{type:"label",text:"X",classes:"fm-tinymce-x"},{classes:"fm-tinymce-height",type:"textbox",name:"height"}]}],onsubmit:function(b){a.insertContent('<img src="'+b.data.source+'" height="'+b.data.height+'" width="'+b.data.width+'">')}})})}})})});